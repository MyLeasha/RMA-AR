<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v7.0.0/dist/aframe-extras.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-aframe.prod.js"></script>
  </head>
  <body>

    <script>
AFRAME.registerComponent('fit-to-marker', {
  schema: { targetSize: { default: 0.7 } }, // fraction of marker width (marker ~ 1 unit wide)
  init: function () {
    this.el.addEventListener('model-loaded', () => {
      const obj = this.el.getObject3D('mesh');
      if (!obj) return;

      const box = new THREE.Box3().setFromObject(obj);
      const size = new THREE.Vector3();
      box.getSize(size);

      const maxDim = Math.max(size.x, size.y, size.z);
      if (maxDim === 0) return;

      const s = this.data.targetSize / maxDim;
      this.el.object3D.scale.set(s, s, s);
    });
  }
});
</script>
    
    <a-scene 
    mindar-image="imageTargetSrc: https://myleasha.github.io/RMA-AR/assets/Targets/targets.mind"
    color-space="sRGB"
    renderer="colorManagement: true, physicallyCorrectLights"
    vr-mode-ui="enabled: false"
    device-orientation-permission-ui="enabled: false" 
    filterMinCF: 0.0001;
    filterBeta: 0.001;
    warmupTolerance: 3;
    missTolerance: 10;
    >
      <a-assets>
        <a-asset-item id="CoffeeShop" src="https://myleasha.github.io/RMA-AR/assets/model2.glb"></a-asset-item>
        <!--Copy the asset line above here to add another asset-->
      </a-assets>

      <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>

      <a-entity mindar-image-target="targetIndex: 0">
        <a-gltf-model 
        rotation="0 0 0 " position="0 0 0" scale="1 1 1" src="#CoffeeShop" fit-to-marker="targetSize: 0.7"></a-gltf-model> <!-- animation-mixer for animations -->
        
      </a-entity>
</a-entity>
       <!--Copy the 3 asset lines above here to add another asset -->
    </a-scene>
  </body>
</html>
